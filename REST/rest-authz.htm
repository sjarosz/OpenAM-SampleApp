
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
<head>
	<title>My Application ABC</title>
	<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
	
    <link rel="stylesheet" type="text/css" href="portal.css">
    <link rel="stylesheet" type="text/css" href="style.css">

    <script type="text/javascript" src="config.js"></script>  
    <script type="text/javascript" src="functions.js"></script>  
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>   

<!-- 
Acquire pre-existing session and check it's validity with OpenAM's Session Service
This Session Service is key to web-based single sign-on that supports notions such as sso across clustered environments, application-based session timeouts, single logout functions & maximum number of sessions a user can have simultanously all without needing to manage these conscepts in each of the target applications -->
    <script type="text/javascript">
    //Get Authenticated Session for end-user (AKA resource owner) browser
    //Three step proccess:   (1)Get Session Handle, (2) Validate Session (3)if invalid, then have user login -->


            $.ajax({     // Check with OpenAM to see if session is valid
                url: getBaseURL()+"/openam/identity/authorize",
                type: "POST",
                data: {
                    "uri": window.location.href,
                    "action": "GET",
                    "subjectid": encodeURIComponent(getSessionHandle())
                },
            }).done(function (data) {        
                 if (/false/i.test(data)) {
                   window.location.replace("../landingPages/403.htm");
                 }
            }).fail(function (data) {
                    window.location.replace(AuthNUrl("realm=/"));   // Session Invalid, force login
            });
    </script>



	
</head>
<body>

<div id="header">

	<h1>My Application ABC</h1>
	<h2>Demonstrates a typical web-based application under OpenAM protection.</h2>
	<ul>
		<li><a href="../REST/rest-authz" class="active">MyApp<span>ABC</span></a></li>
		<li><a href="../REST/rest.htm">OpenAM <span>REST</span></a></li>
		<li><a href="#">OpenID <span>Connect</span></a></li>
		<li><a href="#">SAML <span>Fedlet</span></a></li>
		<li><a href="/openam/UI/Login?service=adminconsoleservice">OpenAM <span>Admin</span></a></li>
		<li><a href="#">Global <span>Logout</span></a></li>
	</ul>
	<p id="layoutdims"><strong>Welcome:</strong> <a href="/openam/XUI/#profile/">Edit your profile</a> | <a href="/openidm">Request more access</a> </p>
</div>
<div class="colmask threecol">
	<div class="colmid">
		<div class="colleft">
			<div class="col1">
				<!-- Column 1 start -->
					<p id="userinfo" rows="40" cols="100">
					<h2 id="ctitle">Baltic area runestones</h2>

					<div id="ccontent">
						The Baltic area runestones are Varangian runestones in memory of men who took part in peaceful or warlike expeditions across the Baltic Sea, where Finland and the Baltic States are presently located. <a href="">View more</a><p>

						Beside the runestones treated in this article and in the main article Varangian runestones, there are many other runestones that talk of eastward voyages such as the Greece runestones, Italy runestones, and inscriptions left by the Varangian Guard. Other runestones that deal with Varangian expeditions include the Ingvar Runestones (erected in honor or memory of those who travelled to the Caspian Sea with Ingvar the Far-Travelled).[1] In addition, there were also voyages to Western Europe mentioned on runestones that are treated in the articles Viking runestones, England runestones and Hakon Jarl runestones.<p>
						 
						Below follows a presentation of the runestones based on the Rundata project. The transcriptions into Old Norse are mostly in the Swedish and Danish dialect to facilitate comparison with the inscriptions, while the English translation provided by Rundata gives the names in the de facto standard dialect (the Icelandic and Norwegian dialect).<p>
					</div>

				<!-- Column 1 end -->
			</div>
			<div class="col2">
				<!-- Column 2 start -->
				<h2>Search</h2>
				<p>If you have proper access rights [RBAC, ABAC, Claims] you may search</p>
					<form action="#" method="post">
						<input type="text" name="search"></input>
						<input id="submitButton" type="submit"></input>
					</form>
				<p>

				<!-- Column 2 end -->
			</div>
			<div class="col3">
				<!-- Column 3 start -->
				<h2>News</h2>
				<p><div id="news1"></div></p>
				<!-- Column 3 end -->
			</div>
		</div>
	</div>
</div>
<div class="colmask blogstyle">
	<div class="colmid">
		<div class="colleft">
			<div class="col1">
				<!-- Column 1 start -->


				<!-- Column 1 end -->
			</div>
			<div class="col2">
				<!-- Column 2 start -->
				<h2>Use classes for stackable columns</h2>
				<p>Because the columns in this stackable design can be repeated any number of times we cannot use ids because they would be duplicated. Only classes allow us to repeat the columns as many times as we like. So please keep that in mind if you are modifying this design. Of course if your modified layout does not have repeated columns then you can change some of the classes back to ids.</p>
				<!-- Column 2 end -->
			</div>
			<div class="col3">
				<!-- Column 3 start -->
				<h2>Equal height columns</h2>
				<p>It doesn't matter which column has the longest content in each column stack, the background colour of all columns will stretch down to meet the next stack. This feature was traditionally only available with table based layouts but now with a little CSS trickery we can do exactly the same with divs. Say goodbye to annoying short columns!</p>
				<!-- Column 3 end -->
			</div>
		</div>
	</div>
</div>
<div class="colmask leftmenu">
	<div class="colleft">
		<div class="col1">
			<!-- Column 1 start -->
			<h2>Full length column background colours</h2>
			<p>In this layout the background colours of each column will always stretch to the length of the longest column. This feature was traditionally only available with table based layouts but now with a little CSS trickery we can do exactly the same with divs. Say goodbye to annoying short columns!</p>
			<!-- Column 1 end -->
		</div>
		<div class="col2">
			<!-- Column 2 start -->
			<h2>No JavaScript</h2>
			<p>JavaScript is not required. Some website layouts rely on JavaScript hacks to resize divs and force elements into place but you won't see any of that nonsense here.</p>
			<!-- Column 2 end -->
		</div>
	</div>
</div>
<div class="colmask rightmenu">
	<div class="colleft">
		<div class="col1">
			<!-- Column 1 start -->
			<h2>Mobility</h2>
			<ul>

				<p><img src="OpenAMMobileApp.png"></img></p>
			</ul>
			<!-- Column 1 end -->
		</div>
		<div class="col2">
			<!-- Column 2 start -->
			<h2>No Images</h2>
			<p>This layout requires no images. Many CSS website designs need images to colour in the column backgrounds but that is not necessary with this design. Why wast bandwidth and precious HTTP requests when you can do everything in pure CSS and XHTML?</p>
			<!-- Column 2 end -->
		</div>
	</div>
</div>
<div class="colmask doublepage">
	<div class="colleft">
		<div class="col1">
			<!-- Column 1 start -->
			<h2>Browser Compatibility</h2>
			<p>This 3 column liquid Layout has been tested on the following browsers:</p>
			<h3>iPhone &amp; iPod Touch</h3>
			<ul>
				<li>Safari</li>
			</ul>
			<h3>Mac</h3>
			<ul>
				<li>Safari</li>
				<li>Firefox</li>
				<li>Opera 9.25</li>
				<li>Netscape 9.0.0.5 &amp; 7.1</li>
			</ul>
			<h3>Windows</h3>
			<ul>
				<li>Firefox 1.5, 2 &amp; 3</li>
				<li>Safari</li>
				<li>Opera 8.1 &amp; 9</li>
				<li>Google Chrome</li>
				<li>Explorer 5.5, 6 &amp; 7</li>
				<li>Netscape 8</li>
			</ul>
			<!-- Column 1 end -->
		</div>
		<div class="col2">
			<!-- Column 2 start -->
			<h2>Valid XHTML strict markup</h2>
			<p>The HTML in this layout validates as XHTML 1.0 strict.</p>
			<h2>Resizable text compatible</h2>
			<p>This layout is fully compatible with resizable text. Resizable text is important for web accessibility. People who are vision impaired can make the text larger so it's easier for them to read. It is becoming increasingly more important to make your website resizable text compatible because people are expecting higher levels of web accessibility. Apple have made resizing the text on a website simple with the pinch gesture on their multi-touch trackpad. So far this trackpad is only available on the MacBook Air but it will soon be rolled out to all of their systems. Is your website text-resizing compatible?</p>
			<h2>No Quirks Mode</h2>
			<p>This liquid layout does not require the XML declaration for it to display correctly in older versions of Internet Explorer. This version works without it and is thus never in quirks mode.</p>
			<h2>No IE Conditional Comments</h2>
			<p>Only one stylesheet is used with this layout This means that IE conditional comments are not needed to set extra CSS rules for older versions of Internet Explorer.</p>
			<!-- Column 2 end -->
		</div>
	</div>
</div>
<div class="colmask fullpage">
	<div class="col1">
		<!-- Column 1 start -->
		<h2>This layout is FREE for anyone to use</h2>
		<p>That's right, you don't have to pay anything. Simply view the source of this page and save the HTML onto your computer. My only suggestion is to <a href="http://matthewjamestaylor.com/blog/adding-css-to-html-with-link-embed-inline-and-import">put the CSS into a separate file</a>. If you are feeling generous however, link back to this page so other people can find and use this layout too.</p>
		<!-- Column 1 end -->
	</div>
</div>
<!--  Layout Footer -->
<div id="footer">
    <p>A ForgeRock Demonstration Client Application&nbsp;&nbsp|&nbsp;&nbsp
    <a href="../REST/rest.htm">OpenAM REST</a>&nbsp;&nbsp|&nbsp;&nbsp  
    <a href="../oIDc/openidc.htm">OpenID Connect</a>&nbsp;&nbsp|&nbsp;&nbsp 
    <a href="../fedlet">SAML Fedlet</a>&nbsp;&nbsp|&nbsp;&nbsp         
    <a href="../openam/UI/Logout">OpenAM Logout</a>&nbsp;&nbsp|&nbsp;&nbsp        
   <!-- <a href="../oauth2/oauth2.htm">OAuth 2.0</a>&nbsp;&nbsp|&nbsp;&nbsp -->
    </br>
</div>



                <script type="text/javascript">    
                     uri = "/openam/identity/attributes?subjectid="+encodeURIComponent(getSessionHandle());
                     attributes = "attributenames=mail&"+
                                  "attributenames=employeeNumber&"+  
                                  "attributenames=Service&"+                             
                                  "attributenames=AuthLevel&"+
                                  "attributenames=cn";
                     $.get(uri+"&"+attributes, function(response) { $("#userinfo").html(response);
                     //$.get(uri, function(response) { $("#userinfo").html(response);
                 })
                </script>




</body>
</html>
